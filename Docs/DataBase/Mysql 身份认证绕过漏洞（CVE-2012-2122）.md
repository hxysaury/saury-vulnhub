

# Mysql 身份认证绕过漏洞（CVE-2012-2122）

### 1.1、漏洞描述

当连接MariaDB/MySQL时，输入的密码会与期望的正确密码比较，由于不正确的处理，会导致即便是memcmp()返回一个非零值，也会使MySQL认为两个密码是相同的。也就是说只要知道用户名，不断尝试就能够直接登入SQL数据库。


参考链接：

http://www.freebuf.com/vuls/3815.html
https://blog.rapid7.com/2012/06/11/cve-2012-2122-a-tragically-comedic-security-flaw-in-mysql/

### 1.2、漏洞等级

高危

### 1.3、影响版本

MariaDB versions from 5.1.62, 5.2.12, 5.3.6, 5.5.23 are not.
MySQL versions from 5.1.63, 5.5.24, 5.6.6 are not.

### 1.4、漏洞复现

#### 1、基础环境

Path：Vulhub/mysql/CVE-2012-2122

---

启动测试环境：

```bash
sudo docker-compose up -d
```

#### 2、漏洞扫描

#### 3、漏洞验证

### 1.5、深度利用

#### 1、反弹Shell

#### 2、写入文件

### 1.6、修复建议